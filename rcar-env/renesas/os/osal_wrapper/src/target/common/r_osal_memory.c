/***********************************************************************************************************************
* Copyright [2022-2023] Renesas Electronics Corporation and/or its licensors. All Rights Reserved.
*
* The contents of this file (the "contents") are proprietary and confidential to Renesas Electronics Corporation
* and/or its licensors ("Renesas") and subject to statutory and contractual protections.
*
* Unless otherwise expressly agreed in writing between Renesas and you: 1) you may not use, copy, modify, distribute,
* display, or perform the contents; 2) you may not use any name or mark of Renesas for advertising or publicity
* purposes or in connection with your use of the contents; 3) RENESAS MAKES NO WARRANTY OR REPRESENTATIONS ABOUT THE
* SUITABILITY OF THE CONTENTS FOR ANY PURPOSE; THE CONTENTS ARE PROVIDED "AS IS" WITHOUT ANY EXPRESS OR IMPLIED
* WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
* NON-INFRINGEMENT; AND 4) RENESAS SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, OR CONSEQUENTIAL DAMAGES,
* INCLUDING DAMAGES RESULTING FROM LOSS OF USE, DATA, OR PROJECTS, WHETHER IN AN ACTION OF CONTRACT OR TORT, ARISING
* OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THE CONTENTS. Third-party contents included in this file may
* be subject to different terms.
***********************************************************************************************************************/
/***********************************************************************************************************************
* File Name :    r_osal_memory.c
* Version :      1.0.0
* Product Name : OSAL
* Device(s) :    R-Car
* Description :  OSAL wrapper Memory Manager
***********************************************************************************************************************/

/***********************************************************************************************************************
 * includes
***********************************************************************************************************************/
#include "rcar-xos/osal/r_osal_memory_impl.h"
#include "target/common/r_osal_manager.h"

#if defined(NDEBUG) && !defined(R_OSAL_ENABLE_DEBUG)
/* PRQA S 4601 1 # There is no problem because it is the declaration of macro "FILE" when stdio.h is not used. */
#define FILE void
#endif

/*******************************************************************************************************************//**
 * @ingroup OSAL_WRAPPER OSAL WRAPPER
 *
 * @{
 **********************************************************************************************************************/

/*======================================================================================================================
 Private file static variables
======================================================================================================================*/
/***********************************************************************************************************************
 * @var gs_osal_memory_tmp_init_state
 * @brief Temporary initialization status.
***********************************************************************************************************************/
static e_osal_init_status_t gs_osal_memory_tmp_init_state = OSAL_MANAGER_STATE_UNINITIALIZED;

/*======================================================================================================================
 Public function definitions
======================================================================================================================*/
/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_009
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrInitializeMmngrConfigSt()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrInitializeMmngrConfigSt(st_osal_mmngr_config_t* const p_config)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret = OSAL_RETURN_OK;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (NULL == p_config)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        p_config->mode                        = OSAL_MMNGR_ALLOC_MODE_INVALID;
        p_config->memory_limit                = 0;
        p_config->max_allowed_allocations     = 0;
        p_config->max_registered_monitors_cbs = 0;
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrInitializeMmngrConfigSt()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_009]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_002
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrInitializeMemoryManagerObj()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrInitializeMemoryManagerObj(osal_memory_manager_t* const p_obj)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret = OSAL_RETURN_OK;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (NULL == p_obj)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        p_obj->p_ptr_self        = NULL;
        p_obj->p_allocate        = NULL;
        p_obj->p_deallocate      = NULL;
        p_obj->p_getConfig       = NULL;
        p_obj->p_registerMonitor = NULL;
        p_obj->p_print           = NULL;
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrInitializeMemoryManagerObj()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_002]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_001
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrInitializeMemoryBufferObj()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrInitializeMemoryBufferObj(osal_memory_buffer_t* const p_obj)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret = OSAL_RETURN_OK;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (NULL == p_obj)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        p_obj->p_ptr_self       = NULL;
        p_obj->mmngr_owner_hndl = OSAL_MEMORY_MANAGER_HANDLE_INVALID;
        p_obj->p_getCpuPtr      = NULL;
        p_obj->p_getConstCpuPtr = NULL;
        p_obj->p_flush          = NULL;
        p_obj->p_invalidate     = NULL;
        p_obj->p_getHwAddr      = NULL;
        p_obj->p_getSize        = NULL;
        p_obj->p_checkBuffer    = NULL;
        p_obj->p_print          = NULL;
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrInitializeMemoryBufferObj()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_001]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_003
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrOpen()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrOpen(const st_osal_mmngr_config_t *const p_config,
                                 osal_memory_manager_handle_t *const p_hndl_mmngr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t          osal_ret;
    e_osal_init_status_t     init_status;
    osal_memory_region_idx_t default_idx;
    size_t                   num_of_regions;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_MmngrGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if ((NULL == p_config) || (NULL == p_hndl_mmngr))
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        default_idx    = R_OSAL_RCFG_MmngrGetDefaultIdx();
        num_of_regions = R_OSAL_RCFG_MmngrGetNumOfRegions();
        if ((0U == num_of_regions) ||
            (num_of_regions <= default_idx))
        {
            osal_ret = OSAL_RETURN_CONF;
        }
        else
        {
            osal_ret = R_OSAL_RCFG_MmngrOpen(p_config, default_idx, p_hndl_mmngr);
        }
    }   /* end of if (OSAL_MANAGER_STATE_INITIALIZED != init_status). */

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrOpen()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_003]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_024
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrOpenFromRegionIdx()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrOpenFromRegionIdx(const st_osal_mmngr_config_t * const p_config,
                                              osal_memory_region_idx_t region_idx,
                                              osal_memory_manager_handle_t * const p_hndl_mmngr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;
    size_t                  num_of_regions;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_MmngrGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if ((NULL == p_config) || (NULL == p_hndl_mmngr))
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        num_of_regions = R_OSAL_RCFG_MmngrGetNumOfRegions();
        if (0U == num_of_regions)
        {
            osal_ret = OSAL_RETURN_CONF;
        }
        else if (num_of_regions <= region_idx)
        {
            osal_ret = OSAL_RETURN_PAR;
        }
        else
        {
            osal_ret = R_OSAL_RCFG_MmngrOpen(p_config, region_idx, p_hndl_mmngr);
        }
    }   /* end of if (OSAL_MANAGER_STATE_INITIALIZED != init_status). */

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrOpenFromRegionIdx()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_024]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_004
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrClose()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrClose(osal_memory_manager_handle_t hndl_mmngr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_MmngrGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrClose(hndl_mmngr);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrClose()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_004]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_005
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrAlloc()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrAlloc(osal_memory_manager_handle_t hndl_mmngr,
                                  size_t size,
                                  size_t alignment,
                                  osal_memory_buffer_handle_t* const p_buffer_obj)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_buffer_obj)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrAlloc(hndl_mmngr, size, alignment, p_buffer_obj);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrAlloc()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_005]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_006
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrDealloc()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrDealloc(osal_memory_manager_handle_t hndl_mmngr,
                                    osal_memory_buffer_handle_t buffer_obj)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if ((OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr) || (OSAL_MEMORY_BUFFER_HANDLE_INVALID == buffer_obj))
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrDealloc(hndl_mmngr, buffer_obj);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrDealloc()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_006]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_007
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetConfig()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetConfig(osal_memory_manager_handle_t hndl_mmngr,
                                      st_osal_mmngr_config_t *const p_config)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr)
    {
        osal_ret = R_OSAL_MmngrGetOsalMaxConfig(p_config);
    }
    else if (NULL == p_config)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrGetConfig(hndl_mmngr, p_config);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetConfig()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_007]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_008
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetOsalMaxConfig()
***********************************************************************************************************************/
/* PRQA S 1505 1 # This function is public API that is also called internally. */
e_osal_return_t R_OSAL_MmngrGetOsalMaxConfig(st_osal_mmngr_config_t *const p_config)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t          osal_ret;
    osal_memory_region_idx_t default_idx;
    size_t                   num_of_regions;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (NULL == p_config)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        default_idx    = R_OSAL_RCFG_MmngrGetDefaultIdx();
        num_of_regions = R_OSAL_RCFG_MmngrGetNumOfRegions();
        if ((0U == num_of_regions) ||
            (num_of_regions <= default_idx))
        {
            osal_ret = OSAL_RETURN_CONF;
        }
        else
        {
            osal_ret = R_OSAL_RCFG_MmngrGetOsalMaxConfig(default_idx, p_config);
        }
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetOsalMaxConfig()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_008]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_025
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetOsalMaxConfigFromRegionIdx()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetOsalMaxConfigFromRegionIdx(osal_memory_region_idx_t region_idx,
                                                          st_osal_mmngr_config_t *const p_config)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;
    size_t          num_of_regions;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (NULL == p_config)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        num_of_regions = R_OSAL_RCFG_MmngrGetNumOfRegions();
        if (0U == num_of_regions)
        {
            osal_ret = OSAL_RETURN_CONF;
        }
        else if (num_of_regions <= region_idx)
        {
            osal_ret = OSAL_RETURN_PAR;
        }
        else
        {
            osal_ret = R_OSAL_RCFG_MmngrGetOsalMaxConfig(region_idx, p_config);
        }
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetOsalMaxConfigFromRegionIdx()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_025]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_010
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrRegisterMonitor()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrRegisterMonitor(osal_memory_manager_handle_t hndl_mmngr,
                                            e_osal_mmngr_event_t monitored_event,
                                            fp_osal_memory_mngr_cb_t monitor_handler,
                                            void * p_user_arg)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == monitor_handler)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else if ((OSAL_MMNGR_EVENT_INVALID >= monitored_event) || (OSAL_MMNGR_EVENT_ERROR < monitored_event))
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrRegisterMonitor(hndl_mmngr, monitored_event, monitor_handler, p_user_arg);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrRegisterMonitor()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_010]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_018
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrDebugMmngrPrint()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrDebugMmngrPrint(osal_memory_manager_handle_t hndl_mmngr,
                                            FILE * p_output)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_MANAGER_HANDLE_INVALID == hndl_mmngr)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_output)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrDebugMmngrPrint(hndl_mmngr, p_output);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrDebugMmngrPrint()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_018]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_011
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetCpuPtr()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetCpuPtr(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                      void **const pp_cpu_ptr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == pp_cpu_ptr)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrGetCpuPtr(memory_buffer_obj_hndl, pp_cpu_ptr);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetCpuPtr()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_011]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_012
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetConstCpuPtr()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetConstCpuPtr(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                           const void **const pp_const_cpu_ptr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == pp_const_cpu_ptr)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrGetConstCpuPtr(memory_buffer_obj_hndl, pp_const_cpu_ptr);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetConstCpuPtr()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_012]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_013
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrFlush()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrFlush(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                  size_t offset,
                                  size_t size)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrFlush(memory_buffer_obj_hndl, offset, size);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrFlush()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_013]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_014
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrInvalidate()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrInvalidate(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                       size_t offset,
                                       size_t size)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrInvalidate(memory_buffer_obj_hndl, offset, size);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrInvalidate()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_014]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_015
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetHwAddr()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetHwAddr(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                      osal_axi_bus_id_t axi_id,
                                      uintptr_t *const p_hw_addr)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_hw_addr)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else if (OSAL_AXI_BUS_ID_INVALID == axi_id)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrGetHwAddr(memory_buffer_obj_hndl, axi_id, p_hw_addr);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetHwAddr()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_015]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_016
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrGetSize()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrGetSize(osal_memory_buffer_handle_t memory_buffer_obj_hndl,
                                    size_t *const p_size)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_size)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrGetSize(memory_buffer_obj_hndl, p_size);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrGetSize()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_016]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_017
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrCheckBuffer()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrCheckBuffer(osal_memory_buffer_handle_t memory_buffer_obj_hndl)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == memory_buffer_obj_hndl)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrCheckBuffer(memory_buffer_obj_hndl);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrCheckBuffer()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_017]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_019
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrDebugBufferPrint()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrDebugBufferPrint(osal_memory_buffer_handle_t hndl_buffer,
                                             FILE * p_output)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    if (OSAL_MEMORY_BUFFER_HANDLE_INVALID == hndl_buffer)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_output)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MmngrDebugBufferPrint(hndl_buffer, p_output);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrDebugBufferPrint()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_019]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_020
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrInitialize()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrInitialize(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_MmngrGetInitStatus();
    if (OSAL_MANAGER_STATE_UNINITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else
    {
        R_OSAL_RCFG_MmngrSetInitStatus(OSAL_MANAGER_STATE_INITIALIZED);
        osal_ret = R_OSAL_RCFG_MmngrControlInit();
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrInitialize()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_020]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_021
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrDeinitialize()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrDeinitialize(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    R_OSAL_RCFG_MmngrSetInitStatus(OSAL_MANAGER_STATE_UNINITIALIZED);
    osal_ret = R_OSAL_RCFG_MmngrControlDeinit();

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrDeinitialize()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_021]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_022
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrCheckBusy()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_MmngrCheckBusy(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret = OSAL_RETURN_OK;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_MmngrGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else
    {
        gs_osal_memory_tmp_init_state = init_status;
        R_OSAL_RCFG_MmngrSetInitStatus(OSAL_MANAGER_STATE_UNINITIALIZED);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrCheckBusy()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_022]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_MEM_023
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_MmngrSetInit()
***********************************************************************************************************************/
void R_OSAL_MmngrSetInit(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    R_OSAL_RCFG_MmngrSetInitStatus(gs_osal_memory_tmp_init_state);

    return;
}
/***********************************************************************************************************************
* End of function R_OSAL_MmngrSetInit()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_MEM_023]
***********************************************************************************************************************/

/** @} OSAL_WRAPPER */

/*======================================================================================================================
End of File
======================================================================================================================*/

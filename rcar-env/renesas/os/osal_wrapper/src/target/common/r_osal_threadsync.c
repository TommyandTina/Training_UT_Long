/***********************************************************************************************************************
* Copyright [2022-2023] Renesas Electronics Corporation and/or its licensors. All Rights Reserved.
*
* The contents of this file (the "contents") are proprietary and confidential to Renesas Electronics Corporation
* and/or its licensors ("Renesas") and subject to statutory and contractual protections.
*
* Unless otherwise expressly agreed in writing between Renesas and you: 1) you may not use, copy, modify, distribute,
* display, or perform the contents; 2) you may not use any name or mark of Renesas for advertising or publicity
* purposes or in connection with your use of the contents; 3) RENESAS MAKES NO WARRANTY OR REPRESENTATIONS ABOUT THE
* SUITABILITY OF THE CONTENTS FOR ANY PURPOSE; THE CONTENTS ARE PROVIDED "AS IS" WITHOUT ANY EXPRESS OR IMPLIED
* WARRANTY, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
* NON-INFRINGEMENT; AND 4) RENESAS SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, OR CONSEQUENTIAL DAMAGES,
* INCLUDING DAMAGES RESULTING FROM LOSS OF USE, DATA, OR PROJECTS, WHETHER IN AN ACTION OF CONTRACT OR TORT, ARISING
* OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THE CONTENTS. Third-party contents included in this file may
* be subject to different terms.
***********************************************************************************************************************/
/***********************************************************************************************************************
* File Name :    r_osal_threadsync.c
* Version :      1.0.0
* Product Name : OSAL
* Device(s) :    R-Car
* Description :  OSAL wrapper Threadsync Manager
***********************************************************************************************************************/

/***********************************************************************************************************************
 * includes
***********************************************************************************************************************/
#include "target/common/r_osal_manager.h"

/*******************************************************************************************************************//**
 * @ingroup OSAL_WRAPPER OSAL WRAPPER
 *
 * @{
 **********************************************************************************************************************/

/*======================================================================================================================
 Public function definitions
======================================================================================================================*/
/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_007
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexCreate()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexCreate(osal_mutex_id_t mutex_id,
                                         osal_mutex_handle_t *const p_handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (NULL == p_handle)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexCreate(mutex_id, p_handle);
    }

    if (OSAL_RETURN_OK != osal_ret)
    {
        if ((OSAL_RETURN_BUSY != osal_ret) && (NULL != p_handle))
        {
            *p_handle = OSAL_MUTEX_HANDLE_INVALID;
        }
        else
        {
            /* Do nothing */
        }
    }
    else
    {
        /* Do nothing */
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexCreate()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_007]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_008
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexDestroy()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexDestroy(osal_mutex_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MUTEX_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexDestroy(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexDestroy()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_008]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_011
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexTryLock()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexTryLock(osal_mutex_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MUTEX_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexTryLock(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexTryLock()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_011]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_009
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexLockForTimePeriod()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexLockForTimePeriod(osal_mutex_handle_t handle,
                                                    osal_milli_sec_t time_period)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MUTEX_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (0 > time_period)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexLockForTimePeriod(handle, time_period);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexLockForTimePeriod()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_009]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_010
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexLockUntilTimeStamp()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexLockUntilTimeStamp(osal_mutex_handle_t handle,
                                                     const st_osal_time_t *const p_time_stamp)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MUTEX_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_time_stamp)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    /* PRQA S 2996 1 # There is no problem because the time_t type is signed. */
    else if (((time_t)0L > p_time_stamp->tv_sec) || 
             (OSAL_MAX_TV_NSEC < p_time_stamp->tv_nsec) ||
             (0L > p_time_stamp->tv_nsec))
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexLockUntilTimeStamp(handle, p_time_stamp);
    }   /* end of if (OSAL_MANAGER_STATE_INITIALIZED != init_status) */

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexLockUntilTimeStamp()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_010]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_012
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMutexUnlock()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMutexUnlock(osal_mutex_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_MUTEX_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MutexUnlock(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMutexUnlock()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_012]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_002
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondCreate()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondCreate(osal_cond_id_t cond_id,
                                        osal_cond_handle_t* const p_handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (NULL == p_handle)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondCreate(cond_id, p_handle);
    }

    if (OSAL_RETURN_OK != osal_ret)
    {
        if ((OSAL_RETURN_BUSY != osal_ret) && (NULL != p_handle))
        {
            *p_handle = OSAL_COND_HANDLE_INVALID;
        }
        else
        {
            /* Do nothing */
        }
    }
    else
    {
        /* Do nothing */
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondCreate()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_002]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_003
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondDestroy()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondDestroy(osal_cond_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_COND_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondDestroy(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondDestroy()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_003]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_005
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondWaitForTimePeriod()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondWaitForTimePeriod(osal_cond_handle_t cond_handle,
                                                   osal_mutex_handle_t mutex_handle,
                                                   osal_milli_sec_t time_period)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if ((OSAL_COND_HANDLE_INVALID == cond_handle) || (OSAL_MUTEX_HANDLE_INVALID == mutex_handle))
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (0 > time_period)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondWaitForTimePeriod(cond_handle, mutex_handle, time_period);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondWaitForTimePeriod()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_005]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_006
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondWaitUntilTimeStamp()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondWaitUntilTimeStamp(osal_cond_handle_t cond_handle,
                                                    osal_mutex_handle_t mutex_handle,
                                                    const st_osal_time_t *const p_time_stamp)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if ((OSAL_COND_HANDLE_INVALID == cond_handle) || (OSAL_MUTEX_HANDLE_INVALID == mutex_handle))
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else if (NULL == p_time_stamp)
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    /* PRQA S 2996 1 # There is no problem because the time_t type is signed. */
    else if (((time_t)0L > p_time_stamp->tv_sec) || 
             (OSAL_MAX_TV_NSEC < p_time_stamp->tv_nsec) ||
             (0L > p_time_stamp->tv_nsec))
    {
        osal_ret = OSAL_RETURN_PAR;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondWaitUntilTimeStamp(cond_handle, mutex_handle, p_time_stamp);
    }   /* end of if (OSAL_MANAGER_STATE_INITIALIZED != init_status) */

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondWaitUntilTimeStamp()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_006]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_004
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondSignal()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondSignal(osal_cond_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_COND_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondSignal(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondSignal()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_004]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_001
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCondBroadcast()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCondBroadcast(osal_cond_handle_t handle)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else if (OSAL_COND_HANDLE_INVALID == handle)
    {
        osal_ret = OSAL_RETURN_HANDLE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_CondBroadcast(handle);
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCondBroadcast()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_001]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_013
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncMemoryBarrier()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncMemoryBarrier(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else
    {
        osal_ret = R_OSAL_RCFG_MemoryBarrier();
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncMemoryBarrier()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_013]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_014
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncInitialize()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncInitialize(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_UNINITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else
    {
        R_OSAL_RCFG_ThsyncSetInitStatus(OSAL_MANAGER_STATE_INITIALIZED);
        osal_ret = R_OSAL_RCFG_ThsyncControlInit();
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncInitialize()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_014]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_016
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncDeinitialize()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncDeinitialize(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t osal_ret;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    R_OSAL_RCFG_ThsyncSetInitStatus(OSAL_MANAGER_STATE_UNINITIALIZED);
    osal_ret = R_OSAL_RCFG_ThsyncControlDeinit();

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncDeinitialize()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_016]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_015
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncCheckBusy()
***********************************************************************************************************************/
e_osal_return_t R_OSAL_ThsyncCheckBusy(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/
    e_osal_return_t         osal_ret;
    e_osal_init_status_t    init_status;

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    init_status = R_OSAL_RCFG_ThsyncGetInitStatus();
    if (OSAL_MANAGER_STATE_INITIALIZED != init_status)
    {
        osal_ret = OSAL_RETURN_STATE;
    }
    else
    {
        R_OSAL_RCFG_ThsyncSetInitStatus(OSAL_MANAGER_STATE_UNINITIALIZED);
        osal_ret = R_OSAL_RCFG_ThsyncCheckBusy();
        if (OSAL_RETURN_BUSY == osal_ret)
        {
            R_OSAL_RCFG_ThsyncSetInitStatus(OSAL_MANAGER_STATE_INITIALIZED);
        }
        else
        {
            /* Do nothing */
        }
    }

    return osal_ret;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncCheckBusy()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_015]
***********************************************************************************************************************/

/***********************************************************************************************************************
 * XOS3_OSAL_NOS_CD_CD_THS_017
***********************************************************************************************************************/
/***********************************************************************************************************************
* Start of function R_OSAL_ThsyncSetInit()
***********************************************************************************************************************/
void R_OSAL_ThsyncSetInit(void)
{
    /*------------------------------------------------------------------------------------------------------------------
    Local variables
    ------------------------------------------------------------------------------------------------------------------*/

    /*------------------------------------------------------------------------------------------------------------------
    Function body
    ------------------------------------------------------------------------------------------------------------------*/
    R_OSAL_RCFG_ThsyncSetInitStatus(OSAL_MANAGER_STATE_INITIALIZED);

    return;
}
/***********************************************************************************************************************
* End of function R_OSAL_ThsyncSetInit()
***********************************************************************************************************************/
/***********************************************************************************************************************
 * [Covers: XOS3_OSAL_NOS_UD_DD_THS_017]
***********************************************************************************************************************/

/** @} OSAL_WRAPPER */

/*======================================================================================================================
End of File
======================================================================================================================*/
